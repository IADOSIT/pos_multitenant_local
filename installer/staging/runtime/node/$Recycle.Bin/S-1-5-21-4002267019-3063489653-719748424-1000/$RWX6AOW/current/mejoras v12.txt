Eres Claude Code y YA conoces completamente el repo emc_abastos (Laravel) y el contexto multi-empresa (empresa_id en todo), portal/tienda/admin, roles admin/superadmin, scoping, branding por empresa, WhatsApp, etc. NO reanalices el repo, NO listes archivos, NO hagas preguntas. Implementa directo sin romper arquitectura ni funcionalidades existentes.

OBJETIVO: Corregir login/portal, agregar registro y recuperación de contraseña, configurar correo de recuperación por empresa, asegurar acceso global superadmin, agregar importación de catálogos por empresa, mostrar empresa en CRUDs, y ajustar selector “cambiar empresa” en header según rol.

1) LOGIN UNIFICADO (/login): 
- Reparar “recordar” usando el mecanismo seguro de Laravel (remember me = recordar sesión, NO guardar contraseña). Mantener sesión iniciada para que el usuario solo dé “Iniciar” (o entre automático si cookie válida).
- Implementar en /login: tabs/links “Crear cuenta” y “¿Olvidaste tu contraseña?” (registro + password reset) en esa misma sección.
- Eliminar “Ingreso” del side menu del /portal y de cualquier otra parte del portal (no debe existir allí).

2) PASSWORD RESET POR CORREO (configurable por empresa):
- En Admin→Empresa→tab Branding agregar campo `support_email` (nullable) y guardarlo.
- En el envío de recuperación (password reset notifications), usar:
  - reply_to = empresa.support_email si existe; si no, fallback al correo del superadmin Axel.
- Si el proveedor de correo permite, también setear “from name” con el nombre de la empresa; si no, mínimo reply_to. No romper mail config global.

3) SUPERADMIN ACCESO GLOBAL (sin romper empresa_id):
- Todos los superadmin deben tener acceso por default a TODAS las empresas y catálogos, pero mantener empresa_id en todo.
- Implementar/ajustar policies/scopes: 
  - roles normales: siempre filtrados por empresa activa/permisos
  - admin/superadmin: pueden ver “todo” en uno, con filtros por empresa cuando aplique
- Al crear un superadmin, asignarle acceso a todas las empresas (pivot) o bypass controlado en policy, sin romper integridad.

4) IMPORTACIÓN DE CATÁLOGOS (solo Admin/Superadmin) con plantillas:
- Habilitar en Admin una sección “Importar Catálogos” accesible a admin/superadmin.
- Entidades: Productos, Artículos (si existe), Clientes, Inventario.
- Para cada una:
  - Descargar plantilla ejemplo (CSV/XLSX) con headers correctos + 2–3 filas ejemplo.
  - Subir archivo + preview (filas válidas/ inválidas + errores por fila) + botón Importar.
  - Validaciones básicas: required, tipos, duplicados por SKU/clave, email/teléfono, etc.
- Delimitación por empresa:
  - usuario normal: si en el futuro se habilita, auto usa su empresa (sin selector).
  - admin/superadmin: mostrar check/selector “Empresa destino” para ejecutar la carga.
- Guardar historial de importaciones (tabla `imports`): tipo, empresa_id, usuario_id, archivo, status, counters, started_at/finished_at, error_file. Procesar por chunks y/o jobs para no bloquear.

5) CRUDs de catálogos deben mostrar empresa:
- En listados de Productos/Artículos/Clientes/Inventario: agregar columna Empresa (id + nombre).
- Si admin/superadmin: agregar filtro por empresa.
- Si rol normal: ocultar filtro y forzar empresa activa.

6) “Cambiar empresa” en header (arriba izquierda):
- Para roles normales: cambia empresa activa y scoping de todo el admin.
- Para admin/superadmin: NO redirigir a otra página ni cambiar scoping global; convertirlo en un dropdown/modal inline que:
  - muestre empresas a las que tiene acceso
  - permita filtrar vistas actuales por empresa (filtro local), o “ver todas” (default).
Implementar sin romper navegación existente.

ENTREGABLES:
- /login con remember session + registro + reset password
- portal sin “Ingreso” en side menu
- Empresa.Branding con support_email + fallback Axel en reset mail
- Superadmin acceso global estable
- Módulo importaciones + plantillas + preview + import + historial
- CRUDs muestran empresa y filtros según rol
- Selector empresa en header con comportamiento distinto por rol
Todo funcionando sin regresiones.
