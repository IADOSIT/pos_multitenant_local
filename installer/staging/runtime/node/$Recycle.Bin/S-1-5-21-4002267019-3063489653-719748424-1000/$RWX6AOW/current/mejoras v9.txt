Eres Claude Code y YA conoces completamente el repositorio emc_abastos (Laravel), su multi-empresa/tienda, portal→tienda/producto, admin empresas, pedidos, checkout, WhatsApp, etc.
NO reanalices el repo, NO listes archivos, NO hagas preguntas. Implementa directo con mejores prácticas sin romper nada.

OBJETIVO (extensión):
1) Implementar PICKUP con ETA propuesta en carrito/checkout.
2) ETA debe calcularse por empresa usando configuración en Admin→Empresas:
   - hora_atencion_inicio (HH:MM)
   - hora_atencion_fin (HH:MM)
   - pickup_eta_hours (entrega estimada en horas)
3) Al confirmar compra pickup:
   - guardar ETA (timestamp) en la orden
   - mostrarla en confirmación y tracking
   - notificar por WhatsApp (folio + ETA + resumen mercancía + total)
4) Todo debe estar delimitado a la empresa/tienda activa.

ADMIN → EMPRESAS (config nueva)
- Agregar campos:
  - hora_atencion_inicio (time)
  - hora_atencion_fin (time)
  - pickup_eta_hours (integer/decimal, default razonable)
- UI: inputs time + input numérico.
- Validación: inicio < fin; pickup_eta_hours >= 0.

CHECKOUT / CARRITO (PICKUP)
- Si fulfillment_type = pickup:
  - antes de pagar/confirmar, el sistema propone ETA calculada.
  - el usuario puede:
    - aceptar ETA sugerida (default)
    - opcional: seleccionar una hora dentro de la ventana permitida (si ya hay UI, integrarlo; si no, solo aceptar sugerencia).
- Calcular ETA:
  - now + pickup_eta_hours
  - si cae fuera de ventana de atención, mover al siguiente horario disponible:
    - si now fuera de horario → usar hoy a hora_inicio (o siguiente día si ya pasó hora_fin)
    - si now + eta pasa hora_fin → mover al siguiente día a hora_inicio + (pickup_eta_hours) o a hora_inicio si aplica
  - respetar zona horaria del sistema (America/Monterrey).
- Guardar en orden:
  - fulfillment_type = pickup
  - estimated_ready_at (datetime)
  - atención: no romper órdenes delivery existentes.

WHATSAPP
- Enviar mensaje WhatsApp cuando:
  - pedido RECIBIDO/CONFIRMADO (según flujo actual)
  - incluir ETA pickup (estimated_ready_at)
  - incluir folio, total, mercancía (3-5 items + “y N más”).
- Reutiliza logs/retry/resend existentes; idempotencia por (orden_id, evento).

UI / TIENDA
- Mostrar “Listo para recoger aprox: {fecha hora}”
- Si empresa desactivada: se mantiene “Fuera de servicio” y no permite checkout.

ENTREGABLES
- Migración empresas: hora_atencion_inicio, hora_atencion_fin, pickup_eta_hours
- Form Admin Empresas actualizado
- Servicio PickUpEtaService con tests/smoke
- Ajustes carrito/checkout para mostrar ETA
- Guardar ETA en orden y mostrar en vistas
- WhatsApp template + disparo
- Seeds: empresas con horarios y pickup_eta_hours
