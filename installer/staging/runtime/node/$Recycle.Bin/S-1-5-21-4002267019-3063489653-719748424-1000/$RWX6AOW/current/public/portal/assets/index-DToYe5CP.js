import{r as m,a as A,L as y,R as W,b as N,c as I,B as R}from"./vendor-BvnYYiBD.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function d(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(s){if(s.ep)return;s.ep=!0;const o=d(s);fetch(s.href,o)}})();var S={exports:{}},w={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z=m,H=Symbol.for("react.element"),q=Symbol.for("react.fragment"),O=Object.prototype.hasOwnProperty,T=z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,V={key:!0,ref:!0,__self:!0,__source:!0};function E(t,a,d){var l,s={},o=null,c=null;d!==void 0&&(o=""+d),a.key!==void 0&&(o=""+a.key),a.ref!==void 0&&(c=a.ref);for(l in a)O.call(a,l)&&!V.hasOwnProperty(l)&&(s[l]=a[l]);if(t&&t.defaultProps)for(l in a=t.defaultProps,a)s[l]===void 0&&(s[l]=a[l]);return{$$typeof:H,type:t,key:o,ref:c,props:s,_owner:T.current}}w.Fragment=q;w.jsx=E;w.jsxs=E;S.exports=w;var e=S.exports,_={},C=A;_.createRoot=C.createRoot,_.hydrateRoot=C.hydrateRoot;const k="/api";function F(){const[t,a]=m.useState(null),[d,l]=m.useState(!0);return m.useEffect(()=>{fetch(`${k}/public/portal-config`).then(s=>s.json()).then(s=>{s.success&&a(s.data)}).catch(console.error).finally(()=>l(!1))},[]),{config:t,loading:d}}function P(){const[t,a]=m.useState([]),[d,l]=m.useState(!0);return m.useEffect(()=>{fetch(`${k}/public/stores`).then(s=>s.json()).then(s=>{s.success&&a(s.data)}).catch(console.error).finally(()=>l(!1))},[]),{stores:t,loading:d}}function B(){const[t,a]=m.useState([]),[d,l]=m.useState(!0);return m.useEffect(()=>{fetch(`${k}/public/promotions`).then(s=>s.json()).then(s=>{s.success&&a(s.data)}).catch(console.error).finally(()=>l(!1))},[]),{promotions:t,loading:d}}function D(){const[t,a]=m.useState({enabled:!1,products:[]}),[d,l]=m.useState(!0);return m.useEffect(()=>{fetch(`${k}/public/flyer`).then(s=>s.json()).then(s=>{s.success&&a(s.data)}).catch(console.error).finally(()=>l(!1))},[]),{flyer:t,loading:d}}function U({config:t}){var g,f,b,i,n;const{stores:a}=P(),{promotions:d}=B(),{flyer:l}=D(),[s,o]=m.useState(0);m.useEffect(()=>{var r;if(((r=l.products)==null?void 0:r.length)>3){const x=setInterval(()=>{o(h=>(h+1)%Math.ceil(l.products.length/3))},5e3);return()=>clearInterval(x)}},[(g=l.products)==null?void 0:g.length]);const c=l.accent_color;return e.jsxs("div",{children:[e.jsx("section",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white py-20 lg:py-32",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsx("h1",{className:"text-4xl lg:text-6xl font-bold mb-6 fade-in",children:((f=t==null?void 0:t.hero)==null?void 0:f.title)||"Compra directo del mercado de abastos"}),e.jsx("p",{className:"text-xl lg:text-2xl text-primary-100 mb-8",children:((b=t==null?void 0:t.hero)==null?void 0:b.subtitle)||"Los mejores precios, la mejor calidad"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(y,{to:"/tiendas",className:"inline-flex items-center justify-center px-8 py-4 bg-white text-primary-700 rounded-xl font-bold text-lg hover:bg-gray-100 transition shadow-lg",children:[((i=t==null?void 0:t.hero)==null?void 0:i.cta_text)||"Explorar tiendas",e.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]}),e.jsx("a",{href:"#como-funciona",className:"inline-flex items-center justify-center px-8 py-4 border-2 border-white/30 text-white rounded-xl font-bold text-lg hover:bg-white/10 transition",children:"Como funciona"})]})]})})}),l.enabled&&((n=l.products)==null?void 0:n.length)>0&&e.jsxs("section",{className:"relative py-16 overflow-hidden",style:c?{background:`linear-gradient(135deg, ${c} 0%, ${c}dd 100%)`}:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"},children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 rounded-full opacity-10 animate-pulse",style:{background:c||"#e2e8f0"}}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 rounded-full opacity-10 animate-pulse",style:{background:c||"#e2e8f0",animationDelay:"1s"}})]}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:`text-3xl lg:text-4xl font-bold mb-3 ${c?"text-white":"text-gray-900"}`,children:l.title||"Productos destacados"}),l.subtitle&&e.jsx("p",{className:`text-lg ${c?"text-white/80":"text-gray-600"}`,children:l.subtitle})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:l.products.slice(s*3,s*3+6).map((r,x)=>{var h,j;return e.jsxs("a",{href:((h=r.store)==null?void 0:h.store_url)||"#",className:"group bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",style:{animationDelay:`${x*100}ms`,opacity:0,animation:`fadeInUp 0.5s ease forwards ${x*.1}s`},children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[e.jsx("img",{src:r.display_image||"/images/producto-default.svg",alt:r.nombre,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy",onError:p=>{p.target.src="/images/producto-default.svg"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),r.store&&e.jsx("span",{className:"absolute top-3 left-3 px-3 py-1 bg-white/90 backdrop-blur-sm text-gray-800 text-xs font-semibold rounded-full shadow-sm",children:r.store.nombre})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2 group-hover:text-primary-600 transition-colors line-clamp-1",children:r.nombre}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:["$",(j=r.precio)==null?void 0:j.toFixed(2)]}),e.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1 group-hover:text-primary-600 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})}),"Ver tienda"]})]})]})]},r.id)})}),l.products.length>6&&e.jsx("div",{className:"flex justify-center gap-2 mt-8",children:Array.from({length:Math.ceil(l.products.length/3)}).map((r,x)=>e.jsx("button",{onClick:()=>o(x),className:`w-2.5 h-2.5 rounded-full transition-all duration-300 ${s===x?`w-8 ${c?"bg-white":"bg-primary-600"}`:`${c?"bg-white/40 hover:bg-white/60":"bg-gray-300 hover:bg-gray-400"}`}`},x))}),e.jsx("div",{className:"text-center mt-10",children:e.jsxs(y,{to:"/productos",className:`inline-flex items-center px-6 py-3 rounded-xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl ${c?"bg-white text-gray-800 hover:bg-gray-50":"bg-primary-600 text-white hover:bg-primary-700"}`,children:["Ver todos los productos",e.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]}),e.jsx("style",{children:"@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }"})]}),d.length>0&&e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Ofertas destacadas"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Las mejores promociones de nuestros proveedores"}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:d.slice(0,6).map(r=>{var x,h,j,p;return e.jsxs("a",{href:r.target_url,className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition overflow-hidden group",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100",children:[(r.hero_image||((x=r.producto)==null?void 0:x.imagen_url))&&e.jsx("img",{src:r.hero_image||((h=r.producto)==null?void 0:h.imagen_url),alt:r.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-300",loading:"lazy"}),r.badge_text&&e.jsx("span",{className:"absolute top-3 left-3 px-3 py-1 bg-orange-500 text-white text-sm font-bold rounded-full",children:r.badge_text}),r.discount_percent&&e.jsxs("span",{className:"absolute top-3 right-3 px-3 py-1 bg-red-500 text-white text-sm font-bold rounded-full",children:["-",r.discount_percent,"%"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-primary-600 font-medium mb-1",children:(j=r.store)==null?void 0:j.nombre}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:r.title}),((p=t==null?void 0:t.settings)==null?void 0:p.show_prices)&&r.promo_price&&e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:["$",r.promo_price]}),r.original_price&&e.jsxs("span",{className:"text-gray-400 line-through",children:["$",r.original_price]})]})]})]},r.id)})})]})}),e.jsx("section",{id:"como-funciona",className:"py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-4",children:"Como funciona"}),e.jsx("p",{className:"text-gray-600 text-center mb-12 max-w-2xl mx-auto",children:"Comprar en el mercado de abastos nunca fue tan facil"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:"ðŸª",title:"Elige tu proveedor",desc:"Explora nuestro directorio de proveedores verificados"},{icon:"ðŸ›’",title:"Agrega al carrito",desc:"Selecciona los productos que necesitas"},{icon:"ðŸšš",title:"Recibe tu pedido",desc:"Recoge en tienda o recibe a domicilio"}].map((r,x)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-2xl flex items-center justify-center text-4xl mx-auto mb-4",children:r.icon}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:r.title}),e.jsx("p",{className:"text-gray-600",children:r.desc})]},x))})]})}),a.length>0&&e.jsx("section",{className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-end mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tiendas destacadas"}),e.jsx("p",{className:"text-gray-600",children:"Proveedores verificados del mercado"})]}),e.jsx(y,{to:"/tiendas",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Ver todas â†’"})]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:a.slice(0,4).map(r=>e.jsxs("a",{href:r.store_url,className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-lg transition text-center group",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden",children:r.logo_url?e.jsx("img",{src:r.logo_url,alt:r.nombre,className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-2xl font-bold text-gray-400",children:r.nombre[0]})}),e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-primary-600 transition",children:r.nombre}),r.descripcion&&e.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-2",children:r.descripcion})]},r.id))})]})}),e.jsx("section",{className:"py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Por que elegirnos"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:"âœ“",title:"Precios de mayoreo",desc:"Precios directos del mercado"},{icon:"ðŸ”’",title:"Compra segura",desc:"Multiples metodos de pago"},{icon:"ðŸ“¦",title:"Productos frescos",desc:"Directo del proveedor"},{icon:"ðŸ’¬",title:"Soporte directo",desc:"Comunicacion con proveedores"}].map((r,x)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center text-xl flex-shrink-0",children:r.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:r.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.desc})]})]},x))})]})}),e.jsx("section",{id:"faq",className:"py-16 bg-gray-50",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Preguntas frecuentes"}),e.jsx("div",{className:"space-y-4",children:[{q:"Como me registro?",a:"Puedes comprar sin registrarte."},{q:"Metodos de pago?",a:"Efectivo, transferencia y MercadoPago."},{q:"Entregas a domicilio?",a:"Depende de cada proveedor."},{q:"Como ser proveedor?",a:"Contactanos por WhatsApp."}].map((r,x)=>e.jsxs("details",{className:"bg-white rounded-lg shadow-sm group",children:[e.jsxs("summary",{className:"p-4 cursor-pointer font-medium text-gray-900 flex justify-between items-center",children:[r.q,e.jsx("svg",{className:"w-5 h-5 text-gray-400 group-open:rotate-180 transition",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx("p",{className:"px-4 pb-4 text-gray-600",children:r.a})]},x))})]})}),e.jsx("section",{className:"py-20 bg-primary-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4",children:"Listo para comprar?"}),e.jsx("p",{className:"text-xl text-primary-100 mb-8",children:"Explora las tiendas y encuentra lo que necesitas"}),e.jsxs(y,{to:"/tiendas",className:"inline-flex items-center px-8 py-4 bg-white text-primary-700 rounded-xl font-bold text-lg hover:bg-gray-100 transition shadow-lg",children:["Ver tiendas disponibles",e.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})})]})}function Y({config:t}){var b;const{stores:a,loading:d}=P(),[l,s]=m.useState(""),[o,c]=m.useState(""),g=[...new Set(a.flatMap(i=>i.tags||[]))],f=a.filter(i=>{var x,h;const n=!l||i.nombre.toLowerCase().includes(l.toLowerCase())||((x=i.descripcion)==null?void 0:x.toLowerCase().includes(l.toLowerCase())),r=!o||((h=i.tags)==null?void 0:h.includes(o));return n&&r});return d?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):e.jsxs("div",{children:[e.jsx("section",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:"Directorio de tiendas"}),e.jsx("p",{className:"text-primary-100 text-lg",children:"Encuentra tu proveedor ideal en el mercado de abastos"})]})}),e.jsx("section",{className:"bg-white border-b sticky top-16 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Buscar tiendas...",value:l,onChange:i=>s(i.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),g.length>0&&e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>c(""),className:`px-3 py-1.5 rounded-full text-sm font-medium transition ${o?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-primary-600 text-white"}`,children:"Todas"}),g.map(i=>e.jsx("button",{onClick:()=>c(i),className:`px-3 py-1.5 rounded-full text-sm font-medium transition ${o===i?"bg-primary-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:i},i))]})]})})}),e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron tiendas"}),e.jsx("p",{className:"text-gray-500",children:"Intenta con otros terminos de busqueda"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-600 mb-6",children:[f.length," tienda",f.length!==1?"s":""," disponible",f.length!==1?"s":""]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(i=>e.jsxs("a",{href:i.store_url,className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition overflow-hidden group border",children:[e.jsxs("div",{className:"relative h-32 bg-gradient-to-br from-primary-100 to-primary-200",children:[i.is_featured&&e.jsx("span",{className:"absolute top-3 right-3 px-2 py-1 bg-yellow-400 text-yellow-900 text-xs font-bold rounded-full",children:"Destacada"}),e.jsx("div",{className:"absolute -bottom-8 left-4",children:e.jsx("div",{className:"w-16 h-16 rounded-xl bg-white shadow-md flex items-center justify-center overflow-hidden",children:i.logo_url?e.jsx("img",{src:i.logo_url,alt:i.nombre,className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-2xl font-bold text-primary-600",children:i.nombre[0]})})})]}),e.jsxs("div",{className:"p-4 pt-12",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg group-hover:text-primary-600 transition",children:i.nombre}),i.descripcion&&e.jsx("p",{className:"text-gray-500 text-sm mt-1 line-clamp-2",children:i.descripcion}),i.tags&&i.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:i.tags.slice(0,3).map(n=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:n},n))}),e.jsxs("div",{className:"mt-4 pt-4 border-t flex items-center justify-between",children:[e.jsxs("span",{className:"text-primary-600 font-medium text-sm group-hover:translate-x-1 transition-transform inline-flex items-center",children:["Visitar tienda",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),i.producto_count>0&&e.jsxs("span",{className:"text-gray-400 text-sm",children:[i.producto_count," productos"]})]})]})]},i.id))})]})})}),e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Quieres vender en la plataforma?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Si tienes un negocio en el mercado de abastos y quieres llegar a mas clientes, contactanos"}),((b=t==null?void 0:t.developer)==null?void 0:b.whatsapp)&&e.jsxs("a",{href:`https://wa.me/52${t.developer.whatsapp}?text=Hola, me interesa vender en la plataforma`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Contactar por WhatsApp"]})]})})]})}const M="/api";function Q({config:t}){const[a,d]=m.useState([]),[l,s]=m.useState(!0),[o,c]=m.useState(""),[g,f]=m.useState("");m.useEffect(()=>{fetch(`${M}/public/stores`).then(n=>n.json()).then(async n=>{if(n.success){const r=[];for(const x of n.data.slice(0,5))try{const j=await(await fetch(`${M}/public/stores/${x.handle}/products`)).json();j.success&&j.data.forEach(p=>{r.push({...p,store:x})})}catch(h){console.error("Error fetching products:",h)}d(r)}}).catch(console.error).finally(()=>s(!1))},[]);const b=[...new Set(a.map(n=>{var r;return(r=n.categoria)==null?void 0:r.nombre}).filter(Boolean))],i=a.filter(n=>{var h,j;const r=!o||n.nombre.toLowerCase().includes(o.toLowerCase())||((h=n.descripcion)==null?void 0:h.toLowerCase().includes(o.toLowerCase())),x=!g||((j=n.categoria)==null?void 0:j.nombre)===g;return r&&x});return l?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):e.jsxs("div",{children:[e.jsx("section",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:"Catalogo de productos"}),e.jsx("p",{className:"text-primary-100 text-lg",children:"Productos frescos de todos nuestros proveedores"})]})}),e.jsx("section",{className:"bg-white border-b sticky top-16 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Buscar productos...",value:o,onChange:n=>c(n.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500"})]}),b.length>0&&e.jsxs("select",{value:g,onChange:n=>f(n.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Todas las categorias"}),b.map(n=>e.jsx("option",{value:n,children:n},n))]})]})})}),e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron productos"}),e.jsx("p",{className:"text-gray-500",children:"Intenta con otros terminos de busqueda"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-600 mb-6",children:[i.length," producto",i.length!==1?"s":""," disponible",i.length!==1?"s":""]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map((n,r)=>{var x;return e.jsxs("a",{href:`/t/${n.store.handle}/producto/${n.id}`,className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition overflow-hidden group border",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 overflow-hidden",children:[e.jsx("img",{src:n.display_image||n.imagen_url||"/images/producto-default.svg",alt:n.nombre,className:"w-full h-full object-cover group-hover:scale-105 transition duration-300",loading:"lazy",onError:h=>{h.target.src="/images/producto-default.svg"}}),n.categoria&&e.jsx("span",{className:"absolute top-2 left-2 px-2 py-1 bg-white/90 text-gray-700 text-xs font-medium rounded-full",children:n.categoria.nombre})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("a",{href:n.store.store_url,className:"flex items-center gap-2 mb-2 text-sm text-gray-500 hover:text-primary-600",onClick:h=>h.stopPropagation(),children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 overflow-hidden flex-shrink-0",children:n.store.logo_url?e.jsx("img",{src:n.store.logo_url,alt:"",className:"w-full h-full object-cover"}):e.jsx("span",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-gray-400",children:n.store.nombre[0]})}),e.jsx("span",{className:"truncate",children:n.store.nombre})]}),e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-primary-600 transition line-clamp-2",children:n.nombre}),((x=t==null?void 0:t.settings)==null?void 0:x.show_prices)&&n.precio&&e.jsxs("p",{className:"text-xl font-bold text-primary-600 mt-2",children:["$",parseFloat(n.precio).toFixed(2)]})]})]},`${n.id}-${r}`)})})]})})})]})}function J({config:t}){var l;const{promotions:a,loading:d}=B();return d?e.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):e.jsxs("div",{children:[e.jsx("section",{className:"bg-gradient-to-br from-orange-500 to-red-600 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:"Promociones y ofertas"}),e.jsx("p",{className:"text-orange-100 text-lg",children:"Las mejores ofertas de nuestros proveedores"})]})}),e.jsx("section",{className:"py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay promociones activas"}),e.jsx("p",{className:"text-gray-500",children:"Vuelve pronto para ver nuevas ofertas"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-600 mb-6",children:[a.length," promocion",a.length!==1?"es":""," activa",a.length!==1?"s":""]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>{var o,c,g;return e.jsxs("a",{href:s.target_url,className:"bg-white rounded-xl shadow-sm hover:shadow-xl transition overflow-hidden group border-2 border-orange-100 hover:border-orange-300",children:[e.jsxs("div",{className:"relative h-56 bg-gradient-to-br from-orange-50 to-red-50 overflow-hidden",children:[(s.hero_image||((o=s.producto)==null?void 0:o.imagen_url))&&e.jsx("img",{src:s.hero_image||((c=s.producto)==null?void 0:c.imagen_url),alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition duration-300",loading:"lazy"}),e.jsx("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:s.badge_text&&e.jsx("span",{className:"px-3 py-1 bg-orange-500 text-white text-sm font-bold rounded-full shadow-lg",children:s.badge_text})}),s.discount_percent&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("span",{className:"px-3 py-1 bg-red-500 text-white text-lg font-bold rounded-full shadow-lg",children:["-",s.discount_percent,"%"]})})]}),e.jsxs("div",{className:"p-5",children:[s.store&&e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-100 overflow-hidden flex-shrink-0",children:s.store.logo_url?e.jsx("img",{src:s.store.logo_url,alt:"",className:"w-full h-full object-cover"}):e.jsx("span",{className:"w-full h-full flex items-center justify-center text-xs font-bold text-gray-400",children:s.store.nombre[0]})}),e.jsx("span",{className:"text-sm text-gray-500",children:s.store.nombre})]}),e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2 group-hover:text-orange-600 transition",children:s.title}),s.description&&e.jsx("p",{className:"text-gray-500 text-sm mb-3 line-clamp-2",children:s.description}),((g=t==null?void 0:t.settings)==null?void 0:g.show_prices)&&s.promo_price&&e.jsxs("div",{className:"flex items-baseline gap-3 mt-3",children:[e.jsxs("span",{className:"text-2xl font-bold text-orange-600",children:["$",parseFloat(s.promo_price).toFixed(2)]}),s.original_price&&e.jsxs("span",{className:"text-gray-400 line-through text-lg",children:["$",parseFloat(s.original_price).toFixed(2)]})]}),e.jsx("button",{className:"mt-4 w-full py-2 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 transition group-hover:shadow-md",children:s.cta_text||"Ver oferta"})]})]},s.id)})})]})})}),e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No te pierdas ninguna oferta"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Siguenos en redes sociales para enterarte de las mejores promociones"}),((l=t==null?void 0:t.developer)==null?void 0:l.whatsapp)&&e.jsxs("a",{href:`https://wa.me/52${t.developer.whatsapp}?text=Hola, quiero recibir ofertas`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Recibir ofertas por WhatsApp"]})]})})]})}const v={Home:()=>e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Store:()=>e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),Products:()=>e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),Tag:()=>e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),User:()=>e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Settings:()=>e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),AI:()=>e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),Menu:()=>e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),Close:()=>e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})};function K({config:t,onOpenAssistant:a}){var o;const[d,l]=m.useState(!1),s=[{to:"/",label:"Inicio",icon:v.Home},{to:"/tiendas",label:"Tiendas",icon:v.Store},{to:"/productos",label:"Productos",icon:v.Products},{to:"/promos",label:"Promos",icon:v.Tag}];return e.jsx("header",{className:"bg-white border-b sticky top-0 z-50 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(y,{to:"/",className:"flex items-center gap-3 group",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-xl flex items-center justify-center shadow-md group-hover:shadow-lg transition-shadow",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("span",{className:"text-xl font-bold text-gray-900 hidden sm:block",children:(t==null?void 0:t.portal_name)||"Central de Abastos"})]}),e.jsx("nav",{className:"hidden lg:flex items-center gap-1",children:s.map(c=>e.jsxs(y,{to:c.to,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded-lg font-medium transition-colors",children:[e.jsx(c.icon,{}),e.jsx("span",{children:c.label})]},c.to))}),e.jsxs("div",{className:"flex items-center gap-2",children:[((o=t==null?void 0:t.settings)==null?void 0:o.ai_assistant_enabled)!==!1&&e.jsxs("button",{onClick:a,className:"flex items-center gap-2 px-3 py-2 text-primary-600 hover:bg-primary-50 rounded-lg font-medium transition-colors",title:"Asistente IA",children:[e.jsx(v.AI,{}),e.jsx("span",{className:"hidden md:inline",children:"Ayuda IA"})]}),e.jsxs("a",{href:"/registro",className:"hidden sm:flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-primary-600 hover:bg-gray-50 rounded-lg font-medium transition-colors",children:[e.jsx(v.User,{}),e.jsx("span",{children:"Registro"})]}),e.jsxs("a",{href:"/login",className:"hidden sm:flex items-center gap-2 px-4 py-2 bg-gray-900 text-white rounded-lg font-medium hover:bg-gray-800 transition-colors",children:[e.jsx(v.Settings,{}),e.jsx("span",{children:"Ingreso"})]}),e.jsx("button",{onClick:()=>l(!d),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg",children:d?e.jsx(v.Close,{}):e.jsx(v.Menu,{})})]})]}),d&&e.jsx("div",{className:"lg:hidden py-4 border-t animate-fade-in",children:e.jsxs("nav",{className:"flex flex-col gap-1",children:[s.map(c=>e.jsxs(y,{to:c.to,onClick:()=>l(!1),className:"flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-primary-50 hover:text-primary-600 rounded-lg font-medium",children:[e.jsx(c.icon,{}),e.jsx("span",{children:c.label})]},c.to)),e.jsx("hr",{className:"my-2"}),e.jsxs("a",{href:"/registro",className:"flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg font-medium",children:[e.jsx(v.User,{}),e.jsx("span",{children:"Registrarse"})]}),e.jsxs("a",{href:"/login",className:"flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-lg font-medium",children:[e.jsx(v.Settings,{}),e.jsx("span",{children:"Ingreso"})]})]})})]})})}function G({config:t}){const a=(t==null?void 0:t.developer)||{};return e.jsx("footer",{className:"bg-gray-900 text-white",id:"contacto",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:(t==null?void 0:t.portal_name)||"Central de Abastos"}),e.jsx("p",{className:"text-gray-400 mb-4",children:t==null?void 0:t.portal_description})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Enlaces"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx("a",{href:"/",className:"hover:text-white",children:"Inicio"})}),e.jsx("li",{children:e.jsx("a",{href:"/tiendas",className:"hover:text-white",children:"Tiendas"})}),e.jsx("li",{children:e.jsx("a",{href:"#como-funciona",className:"hover:text-white",children:"Como funciona"})}),e.jsx("li",{children:e.jsx("a",{href:"#faq",className:"hover:text-white",children:"Preguntas frecuentes"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Contacto"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.email&&e.jsx("li",{children:e.jsxs("a",{href:`mailto:${a.email}`,className:"hover:text-white flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),a.email]})}),a.whatsapp&&e.jsx("li",{children:e.jsxs("a",{href:`https://wa.me/52${a.whatsapp}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-white flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),a.whatsapp]})})]})]})]}),e.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("p",{className:"text-gray-400 text-sm",children:["Â© ",new Date().getFullYear()," ",t==null?void 0:t.portal_name,". Todos los derechos reservados."]}),a.name&&e.jsxs("p",{className:"text-gray-400 text-sm",children:["Desarrollado por"," ",e.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:text-primary-300",children:a.name})]})]})]})})}function X({isOpen:t,onClose:a,config:d}){var h,j;const l=((h=d==null?void 0:d.settings)==null?void 0:h.ai_assistant_welcome)||`Hola! Soy tu asistente virtual del mercado de abastos. Puedo ayudarte a:

- Buscar productos
- Encontrar tiendas
- Explicar como comprar
- Resolver dudas

En que puedo ayudarte?`,s=((j=d==null?void 0:d.settings)==null?void 0:j.ai_assistant_title)||"Asistente IA",[o,c]=m.useState([{role:"assistant",content:l}]),[g,f]=m.useState(""),[b,i]=m.useState(!1),n=m.useRef(null);m.useEffect(()=>{var p;(p=n.current)==null||p.scrollIntoView({behavior:"smooth"})},[o]);const r=async p=>{if(p.preventDefault(),!g.trim()||b)return;const u=g.trim();f(""),c(L=>[...L,{role:"user",content:u}]),i(!0),setTimeout(()=>{const L=x(u);c($=>[...$,{role:"assistant",content:L}]),i(!1)},1e3)},x=p=>{const u=p.toLowerCase();return u.includes("buscar")||u.includes("producto")||u.includes("encuentra")?`Para buscar productos, puedes:

1. Ir a la seccion "Productos" en el menu
2. Usar el buscador en cualquier tienda
3. Explorar por categorias

Que producto te gustaria encontrar?`:u.includes("tienda")||u.includes("proveedor")?`Tenemos varias tiendas disponibles en el directorio. Cada una ofrece productos frescos del mercado de abastos.

Visita la seccion "Tiendas" para ver el catalogo completo y elegir tu proveedor favorito.`:u.includes("comprar")||u.includes("pedir")||u.includes("ordenar")?`Para realizar una compra:

1. Elige una tienda del directorio
2. Agrega productos al carrito
3. Completa tus datos de contacto
4. Elige metodo de pago
5. Confirma tu pedido

El proveedor te contactara para coordinar la entrega!`:u.includes("pago")||u.includes("pagar")?`Metodos de pago disponibles:

- Efectivo al recoger
- Transferencia bancaria
- MercadoPago (tarjetas)

Cada tienda puede tener diferentes opciones habilitadas.`:u.includes("entrega")||u.includes("envio")||u.includes("domicilio")?`Las opciones de entrega varian por tienda:

- Recoger en tienda
- Entrega a domicilio
- Envio a negocio

Consulta las opciones disponibles al hacer tu pedido.`:u.includes("hola")||u.includes("buenos")||u.includes("que tal")?`Hola! Es un gusto ayudarte. Estoy aqui para resolver tus dudas sobre el mercado de abastos.

Que te gustaria saber?`:`Entiendo tu consulta. Para darte una mejor respuesta, te sugiero:

- Explorar las tiendas disponibles
- Revisar la seccion de productos
- Contactar directamente al proveedor

Hay algo mas en lo que pueda ayudarte?`};return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4 bg-black/50 animate-fade-in",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-2xl flex flex-col max-h-[80vh] animate-slide-up",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-primary-600 to-primary-700 rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:s}),e.jsx("p",{className:"text-xs text-primary-100",children:"Siempre disponible"})]})]}),e.jsx("button",{onClick:a,className:"p-2 text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[o.map((p,u)=>e.jsx("div",{className:`flex ${p.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 ${p.role==="user"?"bg-primary-600 text-white rounded-br-md":"bg-gray-100 text-gray-800 rounded-bl-md"}`,children:e.jsx("p",{className:"text-sm whitespace-pre-line",children:p.content})})},u)),b&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 rounded-2xl rounded-bl-md px-4 py-3",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),e.jsx("div",{ref:n})]}),e.jsxs("form",{onSubmit:r,className:"p-4 border-t bg-gray-50 rounded-b-2xl",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g,onChange:p=>f(p.target.value),placeholder:"Escribe tu pregunta...",className:"flex-1 px-4 py-3 border rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",disabled:b}),e.jsx("button",{type:"submit",disabled:!g.trim()||b,className:"px-4 py-3 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Asistente en modo demo - Proximamente con IA real"})]})]})}):null}function Z(){var s,o;const{config:t,loading:a}=F(),[d,l]=m.useState(!1);return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary-600 border-t-transparent"})}):e.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[e.jsx(K,{config:t,onOpenAssistant:()=>l(!0)}),e.jsx("main",{className:"flex-1",children:e.jsxs(W,{children:[e.jsx(N,{path:"/",element:e.jsx(U,{config:t})}),e.jsx(N,{path:"/tiendas",element:e.jsx(Y,{config:t})}),e.jsx(N,{path:"/productos",element:e.jsx(Q,{config:t})}),e.jsx(N,{path:"/promos",element:e.jsx(J,{config:t})})]})}),e.jsx(G,{config:t}),((s=t==null?void 0:t.settings)==null?void 0:s.ai_assistant_enabled)!==!1&&e.jsx(X,{isOpen:d,onClose:()=>l(!1),config:t}),((o=t==null?void 0:t.settings)==null?void 0:o.ai_assistant_enabled)!==!1&&!d&&e.jsx("button",{onClick:()=>l(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-primary-600 text-white rounded-full shadow-lg hover:bg-primary-700 transition-all hover:scale-110 flex items-center justify-center z-40 lg:hidden","aria-label":"Abrir asistente",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})})]})}_.createRoot(document.getElementById("root")).render(e.jsx(I.StrictMode,{children:e.jsx(R,{basename:"/portal",children:e.jsx(Z,{})})}));
